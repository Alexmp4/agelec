function WPSL_InsertShortcode(){var e,t,s,o,l,i=window.dialogArguments||opener||parent||top,r=jQuery("#wpsl-start-location").val(),c=jQuery("#wpsl-cat-filter-types").val(),n=jQuery("#wpsl-cat-restriction").val(),a=jQuery("#wpsl-auto-locate").is(":checked")?!0:!1;t='template="'+jQuery("#wpsl-store-template").val()+'" map_type="'+jQuery("#wpsl-map-type").val()+'" auto_locate="'+a+'"',e=WPSL_Selected_Markers(),"undefined"!=typeof e.start&&(t+=' start_marker="'+e.start+'"'),"undefined"!=typeof e.store&&(t+=' store_marker="'+e.store+'"'),r&&(t+=' start_location="'+r+'"'),"undefined"==typeof n||null===n||c||(t+=' category="'+n+'"'),o="dropdown"==c?"wpsl-cat-selection":"wpsl-checkbox-selection",l=jQuery("#"+o).val(),l&&(t+=' category_selection="'+l+'"'),c&&(t+=' category_filter_type="'+c+'"'),"checkboxes"==c&&(s=parseInt(jQuery("#wpsl-checkbox-columns").val()),"number"==typeof s&&(t+=' checkbox_columns="'+s+'"')),i.send_to_editor("[wpsl "+t+"]")}function WPSL_Selected_Markers(){var e,t,s=[],o={};return jQuery(".wpsl-marker-list ").each(function(e){s.push(jQuery(".wpsl-marker-list:eq("+e+" ) .wpsl-active-marker input").val())}),2==s.length&&(e=s[0].split("."),t=s[1].split("."),"undefined"!=typeof e[0]&&(o.start=e[0]),"undefined"!=typeof t[0]&&(o.store=t[0])),o}jQuery(document).ready(function(e){e("#wpsl-media-tabs").tabs(),e(".wpsl-info").on("mouseover",function(){e(this).find(".wpsl-info-text").show()}),e(".wpsl-info").on("mouseout",function(){e(this).find(".wpsl-info-text").hide()}),e(".wpsl-marker-list input[type=radio]").click(function(){e(this).parents(".wpsl-marker-list").find("li").removeClass(),e(this).parent("li").addClass("wpsl-active-marker")}),e(".wpsl-marker-list li").click(function(){e(this).parents(".wpsl-marker-list").find("input").prop("checked",!1),e(this).find("input").prop("checked",!0),e(this).siblings().removeClass(),e(this).addClass("wpsl-active-marker")}),e("#wpsl-cat-filter-types").change(function(){var t=e(this).val();"dropdown"==t?(e(".wpsl-cat-selection").show(),e(".wpsl-checkbox-options, .wpsl-cat-restriction, .wpsl-checkbox-selection").hide()):"checkboxes"==t?(e(".wpsl-cat-selection, .wpsl-cat-restriction").hide(),e(".wpsl-checkbox-options, .wpsl-checkbox-selection").show()):(e(".wpsl-cat-restriction").show(),e(".wpsl-checkbox-options, .wpsl-cat-selection, .wpsl-checkbox-selection").hide())})});